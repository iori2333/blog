import{_ as p,C as v,a as k,u as A}from"./index.c7fc4a28.js";import{d as _,r as B,q as I,A as S,o as n,a as f,w as i,f as l,n as T,B as E,t as h,c as m,e as $,g as a,k as u,h as b,F as C,C as w,l as F,b as L,D as N}from"./vendor.0c0be747.js";import{f as D,L as x}from"./LinkItem.38acda22.js";import{S as M}from"./SkeletonCard.2a3de0e1.js";const V=_({setup(e){const t=B(!0);return I(()=>{window.onwheel=s=>{document.documentElement.scrollTop==0&&s.deltaY<0&&!t.value&&(t.value=!0)}}),S(()=>{window.onwheel=null}),(s,r)=>(n(),f(v,{class:T(["banner",t.value?"":"hidden"])},{default:i(()=>[l("div",{class:T(["title",t.value?"":"hidden"])},"Iori's Blog",2),l("div",{class:"description",onClick:r[0]||(r[0]=c=>t.value=!t.value)},"My Guiding Star")]),_:1},8,["class"]))}});var R=p(V,[["__scopeId","data-v-cb56ae3c"]]);const U={class:"text-preview"},z=["src","alt"],G={class:"actions"},j={key:0},q=u(" \u7F6E\u9876 "),H=u(" \u8BC4\u8BBA: 0 "),J=_({props:{article:null},setup(e){const{article:t}=e,s=E(),r=d=>{let g=d.indexOf(`
`);g===-1&&(g=d.length);let y=d.substring(0,Math.min(g,100));return y.length<g&&(y+="..."),y},c=()=>{console.log(t),s.push(`/archive/view/${t.id}`)};return(d,g)=>(n(),f(v,{class:T([e.article.pinned?"pinned":"","card-item"]),title:e.article.title,onClick:c},{default:i(()=>[l("div",U,[l("div",null,h(r(e.article.content)),1),e.article.img?(n(),m("img",{key:0,src:e.article.img,alt:e.article.title},null,8,z)):$("",!0)]),l("div",G,[e.article.pinned?(n(),m("span",j,[a(k,{name:"pinned"}),q])):$("",!0),l("span",null,[a(k,{name:"account"}),u(" \u4F5C\u8005: "+h(e.article.author),1)]),l("span",null,[a(k,{name:"calendar"}),u(" \u53D1\u5E03\u65F6\u95F4: "+h(b(D)(e.article.timestamp)),1)]),l("span",null,[a(k,{name:"comment-discussion"}),H])])]),_:1},8,["class","title"]))}});var O=p(J,[["__scopeId","data-v-254743cd"]]);const Y={class:"article-wrapper"},K={style:{flex:"1"}},P={class:"tile-container"},Q=_({props:{articles:null},setup(e){return(t,s)=>(n(),m("div",Y,[l("div",K,[(n(!0),m(C,null,w(e.articles,(r,c)=>(n(),f(O,{key:c,article:r},null,8,["article"]))),128)),e.articles.length?$("",!0):(n(),f(M,{key:0}))]),l("div",P,[F(t.$slots,"default",{},void 0,!0)])]))}});var W=p(Q,[["__scopeId","data-v-48cd1364"]]);const X=_({setup(e){const t=[{title:"\u6587\u7AE0\u6807\u9898",link:"#"},{title:"\u6587\u7AE0\u6807\u9898",link:"#"},{title:"\u6587\u7AE0\u6807\u9898",link:"#"}];return(s,r)=>(n(),f(v,{class:"recent-tile",title:"Recent"},{default:i(()=>[(n(),m(C,null,w(t,(c,d)=>a(x,{key:d,href:c.link},{default:i(()=>[u(h(c.title),1)]),_:2},1032,["href"])),64))]),_:1}))}}),Z=/^#([0-9a-fA-F]{3,6})$/,ee=e=>{if(!Z.test(e))return"#000";e=e.substring(1);const[t,s,r]=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)];return .213*t+.715*s+.072*r>255/2?"#000":"#fff"};const te=_({props:{name:null,color:null},setup(e){const{name:t,color:s}=e,r=()=>{console.log(t)};return(c,d)=>(n(),m("span",{class:"tag",style:L({backgroundColor:e.color,color:e.color?b(ee)(e.color):void 0}),onClick:r},h(e.name),5))}});var o=p(te,[["__scopeId","data-v-6de9891a"]]);const ae={class:"tiles"},ne=_({setup(e){return(t,s)=>(n(),f(v,{title:"Tags"},{default:i(()=>[l("div",ae,[a(o,{name:"Tag1",color:"#1f1e33"}),a(o,{name:"Tag2",color:"#1f1e33"}),a(o,{name:"Tag3",color:"#1f1e33"}),a(o,{name:"Tag4",color:"#1f1e33"}),a(o,{name:"Tag5",color:"#1f1e33"}),a(o,{name:"Tag6",color:"#1f1e33"}),a(o,{name:"Tag7",color:"#1f1e33"}),a(o,{name:"Tag8",color:"#1f1e33"}),a(o,{name:"Tag9",color:"#1f1e33"}),a(o,{name:"Tag10",color:"#1f1e33"})])]),_:1}))}});var se=p(ne,[["__scopeId","data-v-3d50d5d5"]]);const re=u(" Source Code "),le=u(" My Homepage "),ce=u(" LUG@NJU "),oe=_({setup(e){const t={repo:"https://github.com/iori2333/blog",me:"https://iori2333.github.io",lug:"https://blogroll.njulug.org"};return(s,r)=>(n(),f(v,{sticky:"",top:"64px",title:"Links"},{default:i(()=>[a(x,{icon:"github-alt",href:t.repo,target:"_blank"},{default:i(()=>[re]),_:1},8,["href"]),a(x,{icon:"account",href:t.me,target:"_blank"},{default:i(()=>[le]),_:1},8,["href"]),a(x,{icon:"terminal-linux",href:t.lug,target:"_blank"},{default:i(()=>[ce]),_:1},8,["href"])]),_:1}))}}),fe=_({setup(e){const t=A(),s=N(()=>t.state.article.articles);return(r,c)=>(n(),m(C,null,[a(R),a(W,{articles:b(s)},{default:i(()=>[a(X),a(se),a(oe)]),_:1},8,["articles"])],64))}});export{fe as default};
